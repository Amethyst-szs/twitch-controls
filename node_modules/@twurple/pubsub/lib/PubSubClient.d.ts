import type { AuthProvider } from '@twurple/auth';
import type { UserIdResolvable } from '@twurple/common';
import { BasicPubSubClient } from './BasicPubSubClient';
import type { PubSubAutoModQueueMessage } from './messages/PubSubAutoModQueueMessage';
import type { PubSubBitsBadgeUnlockMessage } from './messages/PubSubBitsBadgeUnlockMessage';
import type { PubSubBitsMessage } from './messages/PubSubBitsMessage';
import type { PubSubChatModActionMessage } from './messages/PubSubChatModActionMessage';
import type { PubSubCustomMessage } from './messages/PubSubCustomMessage';
import type { PubSubRedemptionMessage } from './messages/PubSubRedemptionMessage';
import type { PubSubSubscriptionMessage } from './messages/PubSubSubscriptionMessage';
import type { PubSubWhisperMessage } from './messages/PubSubWhisperMessage';
import type { PubSubListener } from './PubSubListener';
import { SingleUserPubSubClient } from './SingleUserPubSubClient';
/**
 * A high level PubSub client attachable to a multiple users.
 */
export declare class PubSubClient {
    private readonly _rootClient;
    private readonly _userClients;
    /**
     * Creates a new PubSub client.
     *
     * @param rootClient A previously existing BasicPubSubClient instance.
     *
     * If not given, one will be created with the default options.
     */
    constructor(rootClient?: BasicPubSubClient);
    /**
     * Attaches a new user to the listener and returns the user ID for convenience.
     *
     * @param authProvider The authentication provider for the user.
     * @param user The user that the client will be attached to.
     *
     * This should only be passed manually if you fetched the token info for the `authProvider` before.
     *
     * If not given, the user will be determined from the `authProvider`.
     */
    registerUserListener(authProvider: AuthProvider, user?: UserIdResolvable): Promise<string>;
    /** @private */
    getUserListener(user: UserIdResolvable): SingleUserPubSubClient;
    /**
     * Adds a listener to AutoMod queue events to the client.
     *
     * @param user The user the event will be subscribed for.
     * @param channel The channel to listen to.
     * @param callback A function to be called when an AutoMod queue event is sent to the user.
     *
     * It receives a {@PubSubAutoModQueueMessage} object.
     */
    onAutoModQueue(user: UserIdResolvable, channel: UserIdResolvable, callback: (message: PubSubAutoModQueueMessage) => void): Promise<PubSubListener<never>>;
    /**
     * Adds a listener to bits events to the client.
     *
     * @param user The user the event will be subscribed for.
     * @param callback A function to be called when a bits event happens in the user's channel.
     *
     * It receives a {@PubSubBitsMessage} object.
     */
    onBits(user: UserIdResolvable, callback: (message: PubSubBitsMessage) => void): Promise<PubSubListener<never>>;
    /**
     * Adds a listener to bits badge unlock events to the client.
     *
     * @param user The user the event will be subscribed for.
     * @param callback A function to be called when a bit badge is unlocked in the user's channel.
     *
     * It receives a {@PubSubBitsBadgeUnlockMessage} object.
     */
    onBitsBadgeUnlock(user: UserIdResolvable, callback: (message: PubSubBitsBadgeUnlockMessage) => void): Promise<PubSubListener<never>>;
    /**
     * Adds a listener to mod action events to the client.
     *
     * @param user The user the event will be subscribed for.
     * @param channel The channel the event will be subscribed for.
     * @param callback A function to be called when a mod action event is sent to the user.
     *
     * It receives a {@PubSubChatModActionMessage} object.
     */
    onModAction(user: UserIdResolvable, channel: UserIdResolvable, callback: (message: PubSubChatModActionMessage) => void): Promise<PubSubListener<never>>;
    /**
     * Adds a listener to redemption events to the client.
     *
     * @param user The user the event will be subscribed for.
     * @param callback A function to be called when a channel point reward is redeemed in the user's channel.
     *
     * It receives a {@PubSubRedemptionMessage} object.
     */
    onRedemption(user: UserIdResolvable, callback: (message: PubSubRedemptionMessage) => void): Promise<PubSubListener<never>>;
    /**
     * Adds a listener to subscription events to the client.
     *
     * @param user The user the event will be subscribed for.
     * @param callback A function to be called when a subscription event happens in the user's channel.
     *
     * It receives a {@PubSubSubscriptionMessage} object.
     */
    onSubscription(user: UserIdResolvable, callback: (message: PubSubSubscriptionMessage) => void): Promise<PubSubListener<never>>;
    /**
     * Adds a listener to user moderation events to the client.
     *
     * @param user The user the event will be subscribed for.
     * @param channel The channel to listen to.
     * @param callback A function to be called when a user moderation event is sent to the user.
     *
     * It receives a {@PubSubUserModerationNotificationMessage} object.
     */
    onUserModeration(user: UserIdResolvable, channel: UserIdResolvable, callback: (message: PubSubSubscriptionMessage) => void): Promise<PubSubListener<never>>;
    /**
     * Adds a listener to whisper events to the client.
     *
     * @param user The user the event will be subscribed for.
     * @param callback A function to be called when a whisper is sent to the user.
     *
     * It receives a {@PubSubWhisperMessage} object.
     */
    onWhisper(user: UserIdResolvable, callback: (message: PubSubWhisperMessage) => void): Promise<PubSubListener<never>>;
    /**
     * Adds a listener for arbitrary/undocumented events to the client.
     *
     * @param user The user the event will be subscribed for.
     * @param topic The topic to subscribe to.
     * @param callback A function to be called when a custom event is sent to the user.
     *
     * It receives a {@PubSubCustomMessage} object.
     * @param scope An optional scope if the topic requires it.
     * @param channel An optional second userId if the topic requires it, usually a channel.
     */
    onCustomTopic(user: UserIdResolvable, topic: string, callback: (message: PubSubCustomMessage) => void, scope?: string, channel?: UserIdResolvable): Promise<PubSubListener<never>>;
    private static _getCorrectUserId;
}
//# sourceMappingURL=PubSubClient.d.ts.map