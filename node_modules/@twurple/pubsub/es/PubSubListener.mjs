import { __decorate } from "tslib";
import { Enumerable } from '@d-fischer/shared-utils';
import { rtfm } from '@twurple/common';
/**
 * A listener attached to a single PubSub topic.
 */
let PubSubListener = class PubSubListener {
    /** @private */
    constructor(_topic, _userId, _callback, client) {
        this._topic = _topic;
        this._userId = _userId;
        this._callback = _callback;
        this._client = client;
    }
    /**
     * The type of the topic.
     */
    get topic() {
        return this._topic;
    }
    /**
     * The user ID part of the topic.
     */
    get userId() {
        return this._userId;
    }
    /**
     * Removes the topic from the PubSub client.
     */
    async remove() {
        await this._client.removeListener(this);
    }
    /** @private */
    call(message) {
        this._callback(message);
    }
};
__decorate([
    Enumerable(false)
], PubSubListener.prototype, "_client", void 0);
PubSubListener = __decorate([
    rtfm('pubsub', 'PubSubListener', 'userId')
], PubSubListener);
export { PubSubListener };
